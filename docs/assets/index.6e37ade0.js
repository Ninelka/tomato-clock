var e=Object.defineProperty,t=(t,s,i)=>(((t,s,i)=>{s in t?e(t,s,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[s]=i})(t,"symbol"!=typeof s?s+"":s,i),i);import{R as s,a as i}from"./vendor.33d8d503.js";class n extends s.Component{render(){return s.createElement("div",{className:"setting"},s.createElement("h3",{className:"setting__title",id:this.props.labelID},this.props.title),s.createElement("button",{disabled:this.props.status,className:"setting__btn btn",id:this.props.incrementID,onClick:this.handleClick,onClick:this.props.increment},s.createElement("i",{class:"fas fa-plus"})),s.createElement("span",{className:"setting__value",id:this.props.valueID},this.props.time),s.createElement("button",{disabled:this.props.status,className:"setting__btn btn",id:this.props.decrementID,onClick:this.props.decrement},s.createElement("i",{class:"fas fa-minus"})))}}class a extends s.Component{render(){return s.createElement("div",{className:this.props.status?"current-timer is-running":"current-timer"},s.createElement("div",{className:"current-timer__container"},s.createElement("span",null,this.props.timeLabel),s.createElement("h1",{id:"time-left",className:"current-timer__value"},(e=>{let t=Math.floor(e/60);t<10&&(t="0"+t);let s=e-60*t;return s<10&&(s="0"+s),`${t}:${s}`})(this.props.currentTime)),s.createElement("div",null,s.createElement("button",{className:"btn",onClick:this.props.start},s.createElement("i",{className:this.props.status?"fas fa-pause":"fas fa-play"})),s.createElement("button",{className:"btn",onClick:this.props.reset},s.createElement("i",{className:"fas fa-sync-alt"})))))}}class r extends s.Component{constructor(e){super(e),t(this,"incrementBreakTime",(()=>{this.state.breakTime<60&&!this.state.isRunning&&this.setState({breakTime:this.state.breakTime+1})})),t(this,"decrementBreakTime",(()=>{this.state.breakTime>1&&!this.state.isRunning&&this.setState({breakTime:this.state.breakTime-1})})),t(this,"incrementSessionTime",(()=>{this.state.sessionTime<60&&!this.state.isRunning&&this.setState({sessionTime:this.state.sessionTime+1,timer:60*(this.state.sessionTime+1)})})),t(this,"decrementSessionTime",(()=>{this.state.sessionTime>1&&!this.state.isRunning&&this.setState({sessionTime:this.state.sessionTime-1,timer:60*(this.state.sessionTime-1)})})),this.state={breakTime:Number.parseInt(this.props.defaultBreakLength,10),sessionTime:Number.parseInt(this.props.defaultSessionLength,10),timeLabel:"Session",timer:60*Number.parseInt(this.props.defaultSessionLength,10),timerFunction:null,isRunning:!1},this.incrementBreakTime=this.incrementBreakTime.bind(this),this.decrementBreakTime=this.decrementBreakTime.bind(this),this.incrementSessionTime=this.incrementSessionTime.bind(this),this.decrementSessionTime=this.decrementSessionTime.bind(this),this.decrementTimer=this.decrementTimer.bind(this),this.playSound=this.playSound.bind(this),this.reset=this.reset.bind(this),this.startSession=this.startSession.bind(this),this.timerControl=this.timerControl.bind(this)}decrementTimer(){this.setState({timer:this.state.timer-1})}playSound(e){0===e&&this.sound.play()}reset(){this.setState({breakTime:5,sessionTime:25,timeLabel:"Session",timer:1500,timerFunction:null,isRunning:!1}),this.state.timerFunction&&clearInterval(this.state.timerFunction),this.sound.pause(),this.sound.currentTime=0}timerControl(){0===this.state.timer?this.playSound(this.state.timer):-1===this.state.timer&&("Session"===this.state.timeLabel?this.setState({timeLabel:"Break",timer:60*this.state.breakTime}):this.setState({timeLabel:"Session",timer:60*this.state.sessionTime}))}startSession(){this.state.isRunning?(this.state.timerFunction&&clearInterval(this.state.timerFunction),this.sound.pause(),this.sound.currentTime=0,this.setState({isRunning:!this.state.isRunning,timerFunction:null})):this.setState({isRunning:!this.state.isRunning,timerFunction:setInterval((()=>{this.decrementTimer(),this.timerControl()}),1e3)})}render(){return s.createElement("div",{className:"app"},s.createElement("div",{className:"app__container"},s.createElement("h1",null,"Tomato Clock"),s.createElement("div",{className:"app__settings"},s.createElement(n,{title:"Break Time",labelID:"break-label",incrementID:"break-increment",decrementID:"break-decrement",valueID:"break-length",time:this.state.breakTime,status:this.state.isRunning,increment:this.incrementBreakTime,decrement:this.decrementBreakTime}),s.createElement(n,{title:"Session Time",labelID:"session-label",incrementID:"session-increment",decrementID:"session-decrement",valueID:"session-length",time:this.state.sessionTime,status:this.state.isRunning,increment:this.incrementSessionTime,decrement:this.decrementSessionTime})),s.createElement(a,{status:this.state.isRunning,currentTime:this.state.timer,reset:this.reset,start:this.startSession,timeLabel:this.state.timeLabel}),s.createElement("audio",{id:"beep",preload:"auto",ref:e=>{this.sound=e},src:"http://www.dartmouth.edu/~milton/reading_room/graphics/nightingale.wav"})))}}i.render(s.createElement(s.StrictMode,null,s.createElement(r,{defaultBreakLength:"5",defaultSessionLength:"25"})),document.getElementById("root"));
